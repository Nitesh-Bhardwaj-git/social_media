{% extends 'Social_media/base.html' %}
{% block title %}Notifications - Snapzy{% endblock %}
{% block content %}
<div class="max-w-4xl mx-auto px-2 sm:px-4 md:px-6 py-6 sm:py-8">
    <div class="bg-white rounded-2xl shadow-xl p-6 sm:p-10 mb-8 animate-fade-in">
        <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-6">Notifications</h1>
        <div class="space-y-6">
            <!-- Likes -->
            <div class="">
                <h2 class="text-lg font-semibold text-primary-700 mb-2 flex items-center">
                    <svg class="w-5 h-5 mr-2 text-pink-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15a7 7 0 0014 0c0-3.866-3.134-7-7-7S5 11.134 5 15z" /></svg>
                    Likes on your posts
                </h2>
                {% if notifications.likes %}
                <ul class="ml-4 space-y-1">
                    {% for like in notifications.likes %}
                        <li class="text-sm text-gray-700"> <span class="font-semibold">{{ like.user.username }}</span> liked your post <span class="italic">{{ like.post.post_caption|default:'No caption'|truncatechars:30 }}</span></li>
                    {% endfor %}
                </ul>
                {% else %}
                <div class="text-sm text-gray-400 ml-4">No new likes.</div>
                {% endif %}
            </div>
            <!-- Comments -->
            <div class="">
                <h2 class="text-lg font-semibold text-primary-700 mb-2 flex items-center">
                    <svg class="w-5 h-5 mr-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v8a2 2 0 01-2 2H7a2 2 0 01-2-2V10a2 2 0 012-2h2m4-4h4a2 2 0 012 2v4a2 2 0 01-2 2h-4a2 2 0 01-2-2V6a2 2 0 012-2z" /></svg>
                    Comments on your posts
                </h2>
                {% if notifications.comments %}
                <ul class="ml-4 space-y-1">
                    {% for comment in notifications.comments %}
                        <li class="text-sm text-gray-700"> <span class="font-semibold">{{ comment.user.username }}</span> commented: "{{ comment.comment_text|truncatechars:30 }}"</li>
                    {% endfor %}
                </ul>
                {% else %}
                <div class="text-sm text-gray-400 ml-4">No new comments.</div>
                {% endif %}
            </div>
            <!-- Follow Requests -->
            <div class="">
                <h2 class="text-lg font-semibold text-primary-700 mb-2 flex items-center">
                    <svg class="w-5 h-5 mr-2 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" /></svg>
                    Follow Requests
                </h2>
                {% if notifications.follow_requests %}
                <ul class="ml-4 space-y-1">
                    {% for fr in notifications.follow_requests %}
                        <li class="text-sm text-gray-700"> <span class="font-semibold">{{ fr.sender.username }}</span> sent you a follow request</li>
                    {% endfor %}
                </ul>
                {% else %}
                <div class="text-sm text-gray-400 ml-4">No new follow requests.</div>
                {% endif %}
            </div>
            <!-- Friend Posts -->
            <div class="">
                <h2 class="text-lg font-semibold text-primary-700 mb-2 flex items-center">
                    <svg class="w-5 h-5 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m7-7v14" /></svg>
                    New posts from friends
                </h2>
                {% if notifications.friend_posts %}
                <ul class="ml-4 space-y-1">
                    {% for post in notifications.friend_posts %}
                        <li class="text-sm text-gray-700"> <span class="font-semibold">{{ post.user.username }}</span> posted: "{{ post.post_caption|default:'No caption'|truncatechars:30 }}"</li>
                    {% endfor %}
                </ul>
                {% else %}
                <div class="text-sm text-gray-400 ml-4">No new posts from friends.</div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %} 